# Importing the Apollo Federation specs for linking services.
extend schema
  @link(url: "https://specs.apollo.dev/federation/v2.7", import: ["@key"])

# Type for the permission of user.
type Permissions {
  id: ID!
  name: String!
  description: String!
  canCreate: Boolean!
  canRead: Boolean!
  canUpdate: Boolean!
  canDelete: Boolean!
}

# Type for the user roles.
type Roles {
  id: ID!
  name: String
  description: String
}

# Main User type, which represents the user model in the system.
type User @key(fields: "id") {
  id: ID!
  firstName: String
  lastName: String
  email: String
  gender: String
  role: String
  permissions: [Permissions!]
  # Relationships to other models.
  # categories: [Category!] # Categories created by the user.
  # subCategories: [SubCategory!] # Subcategories created by the user.
  # products: [Product!] # Products created by the user.
  # brands: [Brand!] # Brands created by the user.
  # orders: [Order!] # Orders placed by the user.
  # cartItems: [Cart!] # Items in the user's cart.
  # wishlistItems: [Wishlist!] # Items in the user's wishlist.
  # productReviews: [ProductReview!] # Reviews written by the user.
  # productRequests: [ProductRequest!] # Product requests made by the user.
  # notifications: [Notification!] # Notifications related to the user.
  # media: [Media!] # Media uploaded by the user.
  # coupons: [Coupon!] # Coupons created by the user.
  # faq: [FAQ!] # FAQs created by the user.
  # privacyPolicies: [PrivacyPolicy!] # Privacy policies created by the user.
  # termsAndConditions: [TermAndCondition!] # Terms & conditions created by the user.
  # popupBanners: [PopupBanner!] # Popup banners created by the user.
  # newsLetters: [Newsletter!] # Newsletters created by the user.
  # shippingClass: [ShippingClass!] # Shipping classes created by the user.
  # taxClass: [TaxClass!] # Tax classes created by the user.
  # taxStatus: [TaxStatus!] # Tax statuses created by the user.
}

# Type for validation and general errors
type ErrorResponse {
  statusCode: Int!
  success: Boolean!
  message: String!
  errors: [FieldError!] # Array of field-specific errors
}

# Type representing errors for specific fields
type FieldError {
  field: String! # Name of the field that caused the error
  message: String! # Error message associated with the field
}

# Common interface to return status and message.
type BaseResponse {
  statusCode: Int!
  success: Boolean!
  message: String!
}

# Type for the response when fetching a single user.
type UserResponse {
  statusCode: Int!
  success: Boolean!
  message: String!
  user: User!
}

# Type for the response when fetching a list of users.
type UsersResponse {
  statusCode: Int!
  success: Boolean!
  message: String!
  pageNo: Int!
  showPerPage: Int!
  searchKeyWord: String
  users: [User!]!
}

# Response type when a user logs in.
type UserLoginResponse {
  statusCode: Int!
  success: Boolean!
  message: String!
  token: String!
}

# Response type when a user's information is updated.
type UserProfileUpdateResponse {
  statusCode: Int!
  success: Boolean!
  message: String!
  token: String!
}

# Response type when fetching the user roles.
type UserRolesResponse {
  statusCode: Int!
  success: Boolean!
  message: String!
  role: [Roles!]!
}
