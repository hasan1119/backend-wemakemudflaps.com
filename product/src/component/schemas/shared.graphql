# ---------------------- Apollo Federation Link ----------------------
# Importing Apollo Federation specification directives for composing multiple services into a single graph.
extend schema
  @link(
    url: "https://specs.apollo.dev/federation/v2.7"
    import: ["@key", "@shareable", "@external"]
  )

# ---------------------- Basic Types ----------------------
# Represents an error related to a specific field in input validation or business logic.
type FieldError @shareable {
  field: String! # The specific field that caused the error (e.g., "title", "url").
  message: String! # Descriptive message explaining the reason for the error.
}

# Generic error response type returned when a mutation or query fails.
type ErrorResponse @shareable {
  statusCode: Int! # HTTP-like status code (e.g., 400, 401, 500).
  success: Boolean! # Whether the operation was successful (always false here).
  message: String! # General error message.
  errors: [FieldError!] # Optional list of field-specific errors.
}

# Standard response structure used when only status and message are returned (e.g., success/failure).
type BaseResponse @shareable {
  statusCode: Int!
  success: Boolean!
  message: String!
}

# Enum for product configuration selection
enum productConfigurationType {
  SIMPLE_PRODUCT
  VARIABLE_PRODUCT
}

# Enum for product delivery type selection
enum ProductDeliveryType {
  PHYSICAL_PRODUCT
  DOWNLOADABLE_PRODUCT
  VIRTUAL_PRODUCT
}

# Enum for product warranty period selection
enum DefaultWarrantyPeriod {
  DAY
  DAYS
  WEEK
  WEEKS
  MONTH
  MONTHS
  YEAR
  YEARS
  LIFETIME
}

# Enum for allowing backorders selection
enum AllowBackOrders {
  DONT_ALLOW
  ALLOW_WITH_NOTIFICATION
  ALLOW
}

# Enum for stock status selection
enum StockStatus {
  IN_STOCK
  OUT_OF_STOCK
  ON_BACKORDER
}

# Enum for weight units selection
enum WeightUnit {
  MILLIGRAM
  GRAM
  KILOGRAM
  TON
  POUND
  OUNCE
  STONE
  CARAT
  GRAIN
  QUINTAL
  METRIC_TON
}

# Enum for dimension units selection
enum DimensionUnit {
  MILLIMETER
  CENTIMETER
  METER
  KILOMETER
  INCH
  FOOT
  YARD
}

# ---------------------- CreatedBy ----------------------
# Extends the CreatedBy entity to support federated references.
extend type CreatedBy @key(fields: "id") {
  id: ID! @external
}

# ---------------------- Media ----------------------

# Extends the Media entity to support federated references.
extend type Media @key(fields: "id") {
  id: ID! @external
}
